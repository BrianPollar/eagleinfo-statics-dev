{
  "version": 3,
  "sources": ["projects/admin-panel/src/app/components/pane/manager-related/vendor-manager/view-vendor-manager/view-vendor-manager.component.ts", "projects/admin-panel/src/app/components/pane/manager-related/vendor-manager/view-vendor-manager/view-vendor-manager.component.html"],
  "sourcesContent": ["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { FrontendLogger, getBizNestErrorResponseMessage } from '@biz-nest/core-client';\nimport {\n  AppNameService, EventbusService, MainBarTitleService,\n  openClose,\n  ViewOneCompose\n} from '@front-shared-lib';\nimport { EagleInfoClientError, Icrumb, VendorManager } from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { AdminBackBarComponent } from '../../../misc/admin-back-bar/admin-back-bar.component';\nimport {\n  AdminInvitingManagerModalComponent\n} from '../../../misc/admin-inviting-manager-modal/admin-inviting-manager-modal.component';\nimport { AdminPageContentComponent } from '../../../misc/admin-page-content/admin-page-content.component';\nimport {\n  ManageUserProfileCoreComponent\n} from '../../../user-related/manage-user-profile-core/manage-user-profile-core.component';\n\n@Component({\n  selector: 'app-view-vendor-manager',\n  standalone: true,\n  imports: [\n    RouterModule,\n    AdminBackBarComponent,\n    AdminPageContentComponent,\n    ManageUserProfileCoreComponent,\n    AdminInvitingManagerModalComponent\n  ],\n  animations: [\n    openClose\n  ],\n  templateUrl: './view-vendor-manager.component.html',\n  styleUrl: './view-vendor-manager.component.scss'\n})\nexport class ViewVendorMangerComponent\nimplements OnInit, OnDestroy {\n  viewOneCompose = new ViewOneCompose(\n    VendorManager,\n    { route: ['/vendor-manager/update'], eventName: 'updateVendorManager' },\n    this.router,\n    this.route,\n    this.eventbus\n  );\n\n  title = 'View';\n  breadCrumbs: Icrumb[] = [\n    {\n      name: 'Dashboard',\n      icon: 'space_dashboard',\n      link: '/'\n    }, {\n      name: 'Vendor Manager',\n      icon: 'supervisor_account',\n      link: '/vendor-manager/list'\n    }, {\n      name: 'View Vendor Manager',\n      icon: 'visibility'\n    }\n  ];\n\n  inviting = false;\n  showModal = false;\n  canInvite?: boolean;\n\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private eventbus: EventbusService,\n    private toastr: ToastrService,\n    private apNme: AppNameService,\n    public mainBarTitle: MainBarTitleService,\n    private metaTagService: Meta,\n    private titleService: Title\n  ) { }\n\n  get authUser() {\n    return typeof this.viewOneCompose?.oneItem?.manager === 'string' ?\n      undefined : this.viewOneCompose?.oneItem?.manager.authUser;\n  }\n\n  get user() {\n    return typeof this.viewOneCompose?.oneItem?.manager === 'string' ?\n      undefined : this.viewOneCompose?.oneItem?.manager;\n  }\n\n  async ngOnInit() {\n    try {\n      await this.viewOneCompose.init();\n\n      this.canInvite = !(this.viewOneCompose.oneItem?.manager.canLogin);\n\n      const names = typeof this\n        .viewOneCompose.oneItem?.manager === 'string' ?\n        '' : this.viewOneCompose.oneItem?.manager.firstName + ' ' + this.viewOneCompose.oneItem?.manager.lastName;\n\n      this.title = names || 'View';\n      this.mainBarTitle.title = 'View Vendor Manager - ' + this.title;\n\n      this.titleService.setTitle(this.mainBarTitle.title + ' - ' + this.apNme.name);\n      this.metaTagService.updateTag({\n        name: 'description',\n        content: `Easily manage and edit your vendormanger details to\n          ensure accurate information and effective business operations.`\n      });\n    } catch (error) {\n      FrontendLogger.error(error);\n    }\n  }\n\n  async invite() {\n    if (!this.viewOneCompose.oneItem) {\n      throw new EagleInfoClientError('no item found');\n    }\n\n    try {\n      this.inviting = true;\n      this.showModal = true;\n      const res = await this.viewOneCompose.oneItem.invite({\n        email: this.viewOneCompose.oneItem.manager.email,\n        phone: this.viewOneCompose.oneItem.manager.phone,\n        phoneCode: '',\n        method: 'email',\n        managerId: this.viewOneCompose.oneItem._id\n      });\n\n      FrontendLogger.debug('INVITE res', res);\n      this.toastr.success('Staff invited successfully', 'Success');\n    } catch (error) {\n      FrontendLogger.error(error);\n      this.toastr.error(getBizNestErrorResponseMessage(error), 'Error');\n    } finally {\n      this.inviting = false;\n      this.showModal = false;\n    }\n  }\n\n  ngOnDestroy() {\n    this.viewOneCompose.cleanup?.();\n  }\n}\n\n", "<app-admin-page-content>\n  <div class=\"grid grid-cols-1 pb-6\">\n    <app-admin-back-bar\n      [title]=\"mainBarTitle.title\"\n      [breadCrumbs]=\"breadCrumbs\"\n    />\n\n    @if (viewOneCompose.oneItem) {\n    <app-manage-user-profile-core\n      [user]=\"user\"\n      [authUser]=\"authUser\"\n      [inviting]=\"inviting\"\n      (inviteUser)=\"invite()\"\n      [canInvite]=\"canInvite\"\n    />\n    }\n  </div>\n</app-admin-page-content>\n\n<app-admin-inviting-manager-modal [showModal]=\"showModal\" />\n"],
  "mappings": "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",
  "names": []
}
