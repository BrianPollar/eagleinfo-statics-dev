{
  "version": 3,
  "sources": ["projects/admin-panel/src/app/components/pane/company-related/ecommerce-order/ecommerce-order-list/ecommerce-order-list.component.ts", "projects/admin-panel/src/app/components/pane/company-related/ecommerce-order/ecommerce-order-list/ecommerce-order-list.component.html"],
  "sourcesContent": ["import { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { Router, RouterModule } from '@angular/router';\nimport { EcommerceOrder } from '@biz-nest/commerce-client';\nimport {\n  AppNameService,\n  CurrencyService,\n  EventbusService,\n  ListComposeAdminPanel,\n  MainBarTitleService,\n  WindowService,\n  scrollToTop\n} from '@front-shared-lib';\nimport { navByBus } from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { debounceTime } from 'rxjs';\nimport { AdminModalComponent } from '../../../misc/admin-modal/admin-modal.component';\nimport { AdminPageContentComponent } from '../../../misc/admin-page-content/admin-page-content.component';\nimport { AdminSearchFieldComponent } from '../../../misc/admin-search-field/admin-search-field.component';\nimport { AdminTableComponent } from '../../../misc/admin-table/admin-table.component';\nimport { AdminTopBarComponent } from '../../../misc/admin-top-bar/admin-top-bar.component';\n\n@Component({\n  selector: 'app-ecommerce-order-list',\n  standalone: true,\n  imports: [\n    RouterModule,\n    AdminModalComponent,\n    AdminTableComponent,\n    AdminPageContentComponent,\n    AdminSearchFieldComponent,\n    AdminTopBarComponent\n  ],\n  templateUrl: './ecommerce-order-list.component.html',\n  styleUrl: './ecommerce-order-list.component.scss'\n})\nexport class EcommerceOrderListComponent\nimplements OnInit, OnDestroy {\n  priceControl: FormControl;\n  paymentMode?: string;\n  cleanup?: () => void;\n\n  // unsure\n  postingSalesReport;\n  postingTaxReport;\n  postingPlReport;\n\n  listCompose = new ListComposeAdminPanel<EcommerceOrder>(\n    EcommerceOrder,\n    this.eventbus,\n    this.windowService,\n    this.toastr\n  );\n\n  navigateByBus = navByBus(this.eventbus, this.router).navigateByBus;\n\n  actions = [\n    {\n      label: 'View',\n      icon: 'visibility',\n      event: (item: EcommerceOrder) => this.viewEcommerceOrder(item)\n    },\n    {\n      label: 'Update',\n      icon: 'edit',\n      event: (item: EcommerceOrder) => this.updateOrder(item)\n    },\n\n    {\n      label: 'Delete',\n      icon: 'delete',\n      event: (item: EcommerceOrder) => this.listCompose.openDeleteOneModal(\n        item._id,\n        'Delete EcommerceOrder',\n        'Are You Sure You Want To Delete This EcommerceOrder?'\n      )\n    }\n  ];\n\n  constructor(\n    public currencyService: CurrencyService,\n    private router: Router,\n    private eventbus: EventbusService,\n    private windowService: WindowService,\n    private toastr: ToastrService,\n    private apNme: AppNameService,\n    public mainBarTitle: MainBarTitleService,\n    private metaTagService: Meta,\n    private titleService: Title\n  ) {\n    this.priceControl = new FormControl();\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick() {\n    this.listCompose.currentActivePopupId = '';\n  }\n\n  ngOnInit(): void {\n    this.mainBarTitle.title = 'Ecommerce Orders - Manage Orders';\n    this.titleService.setTitle(this.mainBarTitle.title + ' - ' + this.apNme.name);\n    this.metaTagService.updateTag({\n      name: 'description',\n      content: 'Efficiently manage and view your orders for streamlined tracking and organization.'\n    });\n    this.listCompose.getDataArr();\n    this.priceControl.valueChanges.pipe(debounceTime(700)).subscribe((val) => {\n      this.listCompose.filterBy({ amount: val });\n    });\n    scrollToTop(this.windowService);\n  }\n\n  updateOrder(order: EcommerceOrder) {\n    this.navigateByBus(['/ecommerce-order/update'], 'updateOrder', order);\n  }\n\n  determineUrl(order: EcommerceOrder) {\n    if (order.invoice.invoiceRelated.billingUserPhoto) {\n      return order.invoice.invoiceRelated.billingUserPhoto;\n    } else {\n      return 'assets/imgs/person.png';\n    }\n  }\n\n  viewEcommerceOrder(order: EcommerceOrder) {\n    this.navigateByBus(['/ecommerce-order/view/' + order.ecommerceOrderNumber], 'oneItem', order);\n  }\n\n  ngOnDestroy() {\n    this.cleanup?.();\n    this.listCompose.cleanup?.();\n  }\n}\n", "<app-admin-page-content>\n  <app-admin-top-bar\n    title=\"Orders List\"\n    [breadCrumbs]=\"[\n      {\n        name: 'Dashboard',\n        icon: 'home',\n        link: '/'\n      },\n      {\n        name: 'Orders List',\n        icon: ''\n      }\n    ]\"\n  />\n\n  <div class=\"card !border !border-default-white-shade\">\n    <div class=\"card-body\">\n      <div class=\"grid grid-cols-12 relative justify-between\">\n        <div class=\"col-span-12 md:col-span-4 w-[170px] h-[60px]\">\n          <app-admin-search-field\n            [options]=\"[\n              {\n                label: 'EcommerceOrder ID',\n                value: 'urId'\n              },\n              {\n                label: 'Billing Name',\n                value: 'billingName'\n              },\n              {\n                label: 'Status',\n                value: 'status'\n              }\n            ]\"\n            (filter)=\"listCompose.searchBy($event)\"\n          />\n        </div>\n      </div>\n\n      <app-admin-table\n        [selectable]=\"true\"\n        [currentActivePopupId]=\"listCompose.currentActivePopupId\"\n        [dataArr]=\"listCompose.dataArr\"\n        [selections]=\"listCompose.selections\"\n        [limit]=\"listCompose.limit\"\n        [offset]=\"listCompose.offset\"\n        [count]=\"listCompose.count\"\n        [showingUpper]=\"listCompose.showingUpper\"\n        [showingLower]=\"listCompose.showingLower\"\n        [currentIndex]=\"listCompose.currentIndex\"\n        [loading]=\"listCompose.loading\"\n        [columns]=\"[\n          {\n            header: 'Order Number',\n            field: 'ecommerceOrderNumber',\n            sortable: true\n          },\n          {\n            header: 'Date',\n            field: 'createdAt',\n            sortable: true\n          },\n          {\n            header: 'Billing User',\n            field: 'invoice.invoiceRelated.billingUserName',\n            sortable: true\n          },\n          {\n            header: 'Amount',\n            field: 'invoice.invoiceRelated.totalCost',\n            isMoneyValue: true,\n            sortable: true\n          },\n          {\n            header: 'Status',\n            field: 'status',\n            sortable: true\n          }\n        ]\"\n        [actions]=\"actions\"\n        (paginateItems)=\"listCompose.paginateItems($event)\"\n        (openExtras)=\"listCompose.openExtras($event)\"\n        (sortChange)=\"listCompose.sortBy($event.field, $event.direction)\"\n        (selectionToggle)=\"listCompose.toggleSelection($event)\"\n        (viewItem)=\"viewEcommerceOrder($event)\"\n      />\n    </div>\n  </div>\n</app-admin-page-content>\n\n<app-admin-modal\n  [multipleDelete]=\"listCompose.multipleDelete\"\n  [showModal]=\"listCompose.showModal\"\n  [title]=\"listCompose.modalTitle\"\n  [message]=\"listCompose.modalMsg\"\n  [cancelButton]=\"listCompose.modalCancelButton\"\n  [cancelText]=\"listCompose.modalCancelText\"\n  [confirmText]=\"listCompose.modalConfirmText\"\n  [confirmButon]=\"listCompose.modalConfirmButton\"\n  (closed)=\"listCompose.toggleModal()\"\n  (confirm)=\"listCompose.onModalDeleteConfirm($event)\"\n/>\n"],
  "mappings": "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",
  "names": []
}
