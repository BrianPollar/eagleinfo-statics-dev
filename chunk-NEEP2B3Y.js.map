{
  "version": 3,
  "sources": ["projects/shared-lib/src/lib/components/base/company-list-base.ts"],
  "sourcesContent": ["import { Directive, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { Company } from '@biz-nest/commerce-client';\nimport { AppNameService, EventbusService, MainBarTitleService, scrollToTop, WindowService } from '@front-shared-lib';\nimport { IemitNameChanges, navByBus } from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { ListComposeAdminPanel } from '../../defines/composition/list';\n\n@Directive()\nexport class CompanyListBase\nimplements OnInit, OnDestroy {\n  scrollForce = true;\n  listCompose = new ListComposeAdminPanel<Company>(\n    Company,\n    this.eventbus,\n    this.windowService,\n    this.toastr\n  );\n\n  navigateByBus = navByBus(this.eventbus, this.router).navigateByBus;\n\n  actions = [\n    {\n      label: 'View',\n      icon: 'visibility',\n      event: (company: Company) => this.viewcompany(company)\n    },\n    {\n      label: 'Update',\n      icon: 'edit',\n      event: (company: Company) => this.updateCompany(company)\n    },\n    {\n      label: 'Make Subscription',\n      icon: 'add',\n      event: (company: Company) => this.subscribeToPkg(company._id)\n    },\n    {\n      label: 'Delete',\n      icon: 'delete',\n      event: (company: Company) => this.listCompose\n        .openDeleteOneModal(\n          company._id,\n          'Delete Company',\n          'Are You Sure You Want To Delete This Company?'\n        )\n    }\n  ];\n\n  constructor(\n    protected router: Router,\n    protected eventbus: EventbusService,\n    protected windowService: WindowService,\n    protected toastr: ToastrService,\n    protected apNme: AppNameService,\n    protected mainBarTitle: MainBarTitleService,\n    protected metaTagService: Meta,\n    protected titleService: Title\n  ) {}\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick() {\n    this.listCompose.currentActivePopupId = '';\n  }\n\n  ngOnInit(): void {\n    this.mainBarTitle.title = 'Companys - List of Vendor Companies';\n    this.titleService.setTitle(this.mainBarTitle.title + ' - ' + this.apNme.name);\n    this.metaTagService.updateTag({\n      name: 'description',\n      content: `This page provides an overview of companies, allowing users\n      to manage and view company details effectively.`\n    });\n\n    this.listCompose.getDataArr();\n    if (this.scrollForce) {\n      scrollToTop(this.windowService);\n    }\n  }\n\n  nameControlNotif(event: IemitNameChanges) {\n    this.listCompose.searchBy({ name: event.value });\n  }\n\n  updateCompany(company: Company) {\n    this.navigateByBus(['/company/update'], 'updateCompany', company);\n  }\n\n  outEvent(ev) {\n    switch (ev.type) {\n      case 'make sunscription':\n        this.subscribeToPkg(ev.val._id);\n        break;\n      case 'update':\n        this.updateCompany(ev.val);\n        break;\n    }\n  }\n\n  viewcompany(company: Company) {\n    this.navigateByBus(\n      ['/company/view/' + company.urId],\n      'oneItem',\n      company\n    );\n  }\n\n  subscribeToPkg(id: string) {\n    this.router.navigate(['subscribe/' + id]);\n  }\n\n  addCompany() {\n    this.router.navigate(['/company/add']);\n  }\n\n  ngOnDestroy() {\n    this.listCompose.cleanup?.();\n  }\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUM,IAAO,kBAAP,MAAO,iBAAe;EAwC1B,YACY,QACA,UACA,eACA,QACA,OACA,cACA,gBACA,cAAmB;AAPnB,SAAA,SAAA;AACA,SAAA,WAAA;AACA,SAAA,gBAAA;AACA,SAAA,SAAA;AACA,SAAA,QAAA;AACA,SAAA,eAAA;AACA,SAAA,iBAAA;AACA,SAAA,eAAA;AA9CZ,SAAA,cAAc;AACd,SAAA,cAAc,IAAI,sBAChB,SACA,KAAK,UACL,KAAK,eACL,KAAK,MAAM;AAGb,SAAA,gBAAgB,SAAS,KAAK,UAAU,KAAK,MAAM,EAAE;AAErD,SAAA,UAAU;MACR;QACE,OAAO;QACP,MAAM;QACN,OAAO,CAAC,YAAqB,KAAK,YAAY,OAAO;;MAEvD;QACE,OAAO;QACP,MAAM;QACN,OAAO,CAAC,YAAqB,KAAK,cAAc,OAAO;;MAEzD;QACE,OAAO;QACP,MAAM;QACN,OAAO,CAAC,YAAqB,KAAK,eAAe,QAAQ,GAAG;;MAE9D;QACE,OAAO;QACP,MAAM;QACN,OAAO,CAAC,YAAqB,KAAK,YAC/B,mBACC,QAAQ,KACR,kBACA,+CAA+C;;;EAcpD;EAGH,kBAAe;AACb,SAAK,YAAY,uBAAuB;EAC1C;EAEA,WAAQ;AACN,SAAK,aAAa,QAAQ;AAC1B,SAAK,aAAa,SAAS,KAAK,aAAa,QAAQ,QAAQ,KAAK,MAAM,IAAI;AAC5E,SAAK,eAAe,UAAU;MAC5B,MAAM;MACN,SAAS;;KAEV;AAED,SAAK,YAAY,WAAU;AAC3B,QAAI,KAAK,aAAa;AACpB,kBAAY,KAAK,aAAa;IAChC;EACF;EAEA,iBAAiB,OAAuB;AACtC,SAAK,YAAY,SAAS,EAAE,MAAM,MAAM,MAAK,CAAE;EACjD;EAEA,cAAc,SAAgB;AAC5B,SAAK,cAAc,CAAC,iBAAiB,GAAG,iBAAiB,OAAO;EAClE;EAEA,SAAS,IAAE;AACT,YAAQ,GAAG,MAAM;MACf,KAAK;AACH,aAAK,eAAe,GAAG,IAAI,GAAG;AAC9B;MACF,KAAK;AACH,aAAK,cAAc,GAAG,GAAG;AACzB;IACJ;EACF;EAEA,YAAY,SAAgB;AAC1B,SAAK,cACH,CAAC,mBAAmB,QAAQ,IAAI,GAChC,WACA,OAAO;EAEX;EAEA,eAAe,IAAU;AACvB,SAAK,OAAO,SAAS,CAAC,eAAe,EAAE,CAAC;EAC1C;EAEA,aAAU;AACR,SAAK,OAAO,SAAS,CAAC,cAAc,CAAC;EACvC;EAEA,cAAW;AACT,SAAK,YAAY,UAAS;EAC5B;;;uBA5GW,kBAAe,4BAAA,MAAA,GAAA,4BAAA,eAAA,GAAA,4BAAA,aAAA,GAAA,4BAAA,aAAA,GAAA,4BAAA,cAAA,GAAA,4BAAA,mBAAA,GAAA,4BAAA,IAAA,GAAA,4BAAA,KAAA,CAAA;IAAA;EAAA;;yEAAf,kBAAe,cAAA,SAAA,6BAAA,IAAA,KAAA;AAAA,UAAA,KAAA,GAAA;AAAf,QAAA,qBAAA,SAAA,SAAA,yCAAA,QAAA;AAAA,iBAAA,IAAA,gBAAA,MAAA;QACN,GAAA,OAAA,2BAAA;;;;;",
  "names": []
}
