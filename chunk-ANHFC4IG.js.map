{
  "version": 3,
  "sources": ["projects/shared-lib/src/lib/defines/composition/list.ts"],
  "sourcesContent": ["/* eslint-disable max-lines */\nimport { Router } from '@angular/router';\nimport {\n  FrontendLogger,\n  IbulkDelete,\n  IcomparisonFilter,\n  IdatabaseAuto,\n  IdeleteOneResponse,\n  IfilterProps,\n  IpropFilter,\n  IsearchFilter,\n  Isuccess\n} from '@biz-nest/core-client';\nimport { DeleteModalComponent, EventbusService, scrollToTop, WindowService } from '@front-shared-lib';\nimport {\n  constructDateRange,\n  EagleInfoClientError, Ipaginator, navByBus,\n  openBoxFn, runSubscriptionsForSharedUse\n} from '@main-shared-lib';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\nimport { ToastrService } from 'ngx-toastr';\n\n\nexport const splitFullUserName = (name: string) => {\n  const nameParts = name.split(' ');\n  const result = { firstName: '', lastName: '' };\n\n  if (nameParts.length > 1) {\n    result.firstName = nameParts[0];\n    result.lastName = nameParts.slice(1).join(' '); // Join the remaining parts as sname\n  } else {\n    result.firstName = name; // If no split, assign the full name to firstName\n  }\n\n  return result;\n};\n\n\ninterface IlistCompose\nextends IdatabaseAuto {\n  _id: string;\n  remove?: () => Promise<IdeleteOneResponse | null>;\n};\n\ninterface IlistStaticCompose<T> {\n  filterAll?: (filter: IfilterProps, parent?: string) => Promise<{ count: number; dataArr: T[] }>;\n  // eslint-disable-next-line max-len\n  getAll?: (...args) => Promise<{ count: number; dataArr: T[] }>;\n  bulkDelete?: (vals: IbulkDelete) => Promise<Isuccess>;\n}\n\nexport interface IcustomCaller {\n  method: string;\n  extrasFilters: unknown[]\n}\n\nexport class ListComposeProps<T> {\n  dataArr: T[] = [];\n  dataArrOrig: T[] = [];\n\n  selections: string[] = [];\n  isDeletingMany = false;\n  offset = 0;\n  limit = 10;\n  showingLower?: number;\n  showingUpper?: number;\n  filtersOpen = false;\n  filterProps: IfilterProps = {};\n  count = 0;\n  loading = false;\n  currentIndex = 1;\n  getErr?: string;\n  header?: string; // is from track activity\n}\n\n\nexport abstract class ListCompose<T extends IlistCompose>\n  extends ListComposeProps<T> {\n  fromDate?: Date;\n  toDate?: Date;\n  currentActivePopupId?: string;\n  cleanup?: () => void;\n  deleteModalRef?: BsModalRef;\n  eventNamespace = `list-${Math.random().toString(36).substr(2, 9)}`;\n\n  constructor(\n    protected staticCaller: IlistStaticCompose<T>,\n    protected eventbus: EventbusService,\n    protected windowService: WindowService,\n    protected toastr: ToastrService,\n    protected customCaller: IcustomCaller = {\n      method: 'filterAll',\n      extrasFilters: []\n    }\n  ) {\n    super();\n    this.init();\n  }\n\n  onFilterProps(filter: IfilterProps, elemId?: string) {\n    this.limit = 10;\n    this.offset = 0;\n    this.filterProps = filter;\n    this.getDataArr();\n\n    const elem = document.getElementById(elemId || 'table-content');\n\n    elem?.scrollIntoView();\n  }\n\n  init() {\n    const handlers = {\n      [`${this.eventNamespace}-deleteOne`]: (data) => {\n        this.deleteOne(data);\n      },\n      [`${this.eventNamespace}-deleteMany`]: (data) => {\n        this.deleteMany(data);\n      },\n      fromDate: (data) => {\n        this.fromDate = data;\n      },\n      toDate: (data) => {\n        this.toDate = data;\n      },\n      viewActivity: (data) => {\n        this.header = data.header;\n      },\n      setFilterProps: (data) => {\n        if (data && typeof data === 'object') {\n          this.filterProps = data;\n        }\n\n        this.eventbus.generalEvent$.next(null);\n      }\n    };\n\n    const { cleanup } = runSubscriptionsForSharedUse(this.eventbus, handlers);\n\n    this.cleanup = cleanup;\n  }\n\n  createdAtNotif(event?: Date) {\n    if (event) {\n      this.compareBy([\n        {\n          field: 'createdAt',\n          fieldValue: event,\n          operator: 'gte'\n        }\n      ]);\n    } else {\n      this.removePropCompareVal('createdAt');\n      this.offset = 0;\n      this.getDataArr();\n    }\n  }\n\n  createdAtNotifRange(event: [Date, Date] | undefined) {\n    if (event) {\n      this.compareBy([\n        {\n          field: 'createdAt',\n          fieldValue: event[0],\n          operator: 'gte'\n        },\n        {\n          field: 'createdAt',\n          fieldValue: event[1],\n          operator: 'lte'\n        }\n      ]);\n    } else {\n      this.removePropCompareVal('createdAt');\n      this.offset = 0;\n      this.getDataArr();\n    }\n  }\n\n  openExtras(id: string) {\n    if (this.currentActivePopupId === id) {\n      this.currentActivePopupId = '';\n\n      return;\n    }\n    this.currentActivePopupId = id;\n  }\n\n  resetPagination() {\n    this.offset = 0;\n  }\n\n\n  async getDataArr() {\n    try {\n      this.loading = true;\n      this.getErr = '';\n      if (!this.staticCaller[this.customCaller.method]) {\n        return await this.getDataArrAlt();\n      }\n      const filterProps = Object.assign({}, this.filterProps) || {};\n\n      filterProps.limit = this.limit;\n      filterProps.offset = this.offset;\n\n      FrontendLogger.debug('filterProps ', filterProps);\n\n      const { count, dataArr } = await this\n        .staticCaller[this.customCaller.method](filterProps, ...this.customCaller.extrasFilters);\n\n      FrontendLogger.debug('filterAll dataArr, ', dataArr);\n      this.count = count;\n      this.offset += this.limit;\n      this.dataArrOrig = dataArr;\n      this.dataArr = this.dataArrOrig.slice();\n      setTimeout(() => {\n        FrontendLogger.debug('DEBUG IT', 9999999);\n        this.eventbus.generalEvent$.next({ type: 'makeList', data: true });\n      }, 300);\n      this.makeShowing();\n    } catch (error) {\n      FrontendLogger.error(error);\n      this.getErr = error.code;\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async getDataArrAlt() {\n    try {\n      if (!this.staticCaller.getAll) {\n        this.loading = false;\n\n        throw new EagleInfoClientError('filterAll and getAll is undefined, no way to cllect dataArr from server');\n      }\n      this.loading = true;\n      this.getErr = '';\n      const { count, dataArr } = await this.staticCaller. getAll(this.offset, this.limit);\n\n      FrontendLogger.debug('getAll dataArr, ', dataArr);\n\n      this.offset += this.limit;\n      this.count = count;\n      this.dataArrOrig = dataArr;\n      this.loading = false;\n      this.dataArr = this.dataArrOrig;\n      setTimeout(() => {\n        this.eventbus.generalEvent$.next({ type: 'makeList', data: true });\n      }, 300);\n      this.makeShowing();\n    } catch (error) {\n      FrontendLogger.error(error);\n      this.getErr = error.code;\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  toggleFiltersOpen() {\n    this.filtersOpen = !this.filtersOpen;\n  }\n\n  makeShowing() {\n    if (this.count < this.offset) {\n      this.showingUpper = this.count;\n      this.showingLower = (this.offset - this.limit) + 1;\n    } else if (this.count >= this.offset) {\n      this.showingUpper = this.offset;\n      this.showingLower = (this.offset - this.limit) + 1;\n    }\n  }\n\n  paginateItems(ev: Ipaginator) {\n    FrontendLogger.debug('paginateItems, ', ev);\n    this.offset = ev.offset;\n    this.limit = ev.limit;\n    this.currentIndex = ev.currentIndex || 1;\n    this.getDataArr();\n    scrollToTop(this.windowService);\n  }\n\n  async deleteOne(classInstance: T) {\n    if (!classInstance) {\n      throw new EagleInfoClientError('_id is undefined');\n    }\n\n\n    if (classInstance && classInstance.remove) {\n      await classInstance.remove();\n      this.eventbus.generalEvent$.next({ type: this.eventNamespace + '-deleteOneCompleted', data: true });\n      this.offset -= this.limit;\n      this.deleteModalRef?.hide();\n      this.getDataArr();\n    }\n  }\n\n  async deleteMany(selections: string[]) {\n    if (this.isDeletingMany) {\n      this.toastr.error('Wait for the current delete process to complete', 'Error');\n\n      return;\n    }\n\n    if (!selections.length) {\n      this.toastr.error('No selections', 'Error');\n\n      return;\n    }\n\n    if (!Array.isArray(selections)) {\n      FrontendLogger.error('selections is not an array');\n\n      return;\n    }\n\n    if (!this.staticCaller.bulkDelete) {\n      this.toastr.error('removeMany is undefined', 'Error');\n\n      return;\n    }\n\n    try {\n      this.isDeletingMany = true;\n      await this.staticCaller.bulkDelete({ _ids: selections });\n\n      this.eventbus.generalEvent$.next({ type: this.eventNamespace + '-deleteManyCompleted', data: true });\n\n      this.selections = [];\n      this.offset -= this.limit;\n      this.getDataArr();\n      this.deleteModalRef?.hide();\n    } catch (error) {\n      FrontendLogger.error('Compose:deleteMany:: - err ', error);\n    } finally {\n      this.isDeletingMany = false;\n    }\n  }\n\n  toggleSelection(_ids: string[]) {\n    _ids.forEach(_id => {\n      if (this.selections.includes(_id)) {\n        const index = this.selections.findIndex(val => val === _id);\n\n        this.selections.splice(index, 1);\n      } else {\n        this.selections.push(_id);\n      }\n    });\n\n    if (_ids.length === 0) {\n      this.selections = [];\n    }\n  }\n\n  sortBy(prop: string, direction: 'asc' | 'desc') {\n    this.offset = 0;\n    this.filterProps = {\n      ...this.filterProps,\n      propSort: {\n        [prop]: direction\n      }\n    };\n\n    FrontendLogger.debug('sortBy filterProps', this.filterProps);\n\n    this.getDataArr();\n  }\n\n  compareBy(comparefilters: IcomparisonFilter[]) {\n    FrontendLogger.debug('on compare');\n    for (const filter of comparefilters) {\n      if (filter.fieldValue === null || filter.fieldValue === undefined || !filter.operator) {\n        this.removePropCompareVal(filter.field);\n      }\n    }\n\n    const newFilters = comparefilters\n      .filter(val => val.fieldValue !== null && val.fieldValue !== undefined && val.operator);\n\n    this.offset = 0;\n    this.filterProps = {\n      ...this.filterProps,\n      comparisonFilter: [\n        ...newFilters\n      ]\n    };\n\n    this.getDataArr();\n  }\n\n  filterBy(filterProp: IpropFilter) {\n    const keys = Object.keys(filterProp);\n\n    FrontendLogger.debug('KEYS ', keys);\n\n    for (const key of keys) {\n      if (!filterProp[key]) {\n        this.removePropFilterVal(key);\n        delete filterProp[key];\n      }\n    }\n\n    this.offset = 0;\n    this.filterProps = {\n      ...this.filterProps,\n      propFilter: {\n        ...filterProp\n      }\n    };\n\n    FrontendLogger.debug('filterProps ', this.filterProps);\n\n    this.getDataArr();\n  }\n\n  searchBy(searchFilter: IsearchFilter) {\n    const keys = Object.keys(searchFilter);\n\n    FrontendLogger.debug('SEARCH KEYS ', keys);\n\n    for (const key of keys) {\n      if (!searchFilter[key]) {\n        this.removePropFilterVal(key);\n        delete searchFilter[key];\n      }\n    }\n\n    this.offset = 0;\n    this.filterProps = {\n      ...this.filterProps,\n      searchFilter: {\n        ...searchFilter\n      }\n    };\n\n    this.getDataArr();\n  }\n\n  removeSearchFilterVal(key: string) {\n    FrontendLogger.debug('remove with ', key);\n    if (this.filterProps.searchFilter && this.filterProps.searchFilter[key]) {\n      delete this.filterProps.searchFilter[key];\n    }\n  }\n\n  removePropFilterVal(key: string) {\n    FrontendLogger.debug('remove with ', key);\n    if (this.filterProps.propFilter && this.filterProps.propFilter[key]) {\n      delete this.filterProps.propFilter[key];\n    }\n  }\n\n  removePropCompareVal(key: string) {\n    FrontendLogger.debug('remove with ', key);\n    if (this.filterProps.comparisonFilter && this.filterProps.comparisonFilter.length > 0) {\n      this.filterProps.comparisonFilter = this.filterProps.comparisonFilter.filter(val => val.field !== key);\n    }\n  }\n\n  searchByName(name: string, parentField?: string) {\n    const fullName = splitFullUserName(name);\n\n    if (!parentField) {\n      this.searchBy(fullName);\n    } else {\n      this.searchBy({\n        [`${parentField}.firstName`]: fullName.firstName,\n        [`${parentField}.lastName`]: fullName.lastName\n      });\n    }\n  }\n}\n\nexport class ListComposeAdminPanel<T extends IlistCompose>\n  extends ListCompose<T> {\n  // modal\n  showModal = false;\n  modalTitle = '';\n  modalMsg = '';\n  modalCancelButton = true;\n  modalCancelText = 'Cancel';\n  modalConfirmText = 'Confirm';\n  modalConfirmButton = true;\n  extraData?: object;\n  multipleDelete = false;\n\n\n  openDeleteOneModal(id: string, modalTitle: string, modalMsg: string, extraData?: object) {\n    this.showModal = true;\n    this.modalTitle = modalTitle;\n    this.modalMsg = modalMsg;\n    this.modalConfirmButton = true;\n    this.modalCancelButton = true;\n    this.modalConfirmText = 'Confirm';\n    this.modalCancelText = 'Cancel';\n    this.extraData = extraData;\n    this.multipleDelete = false;\n  }\n\n  openDeleteManyModal(modalTitle: string, modalMsg: string) {\n    this.showModal = true;\n    this.modalTitle = modalTitle;\n    this.modalMsg = modalMsg;\n    this.modalConfirmButton = true;\n    this.modalCancelButton = true;\n    this.modalConfirmText = 'Confirm';\n    this.modalCancelText = 'Cancel';\n    this.extraData = this.selections;\n    this.multipleDelete = true;\n  }\n\n  toggleModal() {\n    this.showModal = !this.showModal;\n  }\n\n  onModalDeleteConfirm(ev: boolean) {\n    if (!ev) {\n      return;\n    }\n\n    if (!this.extraData) {\n      FrontendLogger.error('extraData is undefined');\n\n      return;\n    }\n\n    if (this.multipleDelete) {\n      this.deleteMany(this.extraData as string[]);\n    } else {\n      this.deleteOne(this.extraData as T);\n    }\n  }\n\n\n  ckeckUncheckAllLists() {\n    this.selections = this.selections.length > 0 ? [] : this.dataArr.map(val => val._id);\n  }\n}\n\nexport class ListComposeManager<T extends IlistCompose>\n  extends ListCompose<T> {\n  selectBoxOpen = [];\n  override deleteModalRef?: BsModalRef;\n\n  navigateByBus = navByBus(this.eventbus, this.router).navigateByBus;\n\n  constructor(\n    protected override staticCaller: IlistStaticCompose<T>,\n    protected override eventbus: EventbusService,\n    protected override windowService: WindowService,\n    protected override toastr: ToastrService,\n    private router: Router,\n    private modalService: BsModalService,\n    protected override customCaller: IcustomCaller = {\n      method: 'filterAll',\n      extrasFilters: []\n    }\n  ) {\n    super(staticCaller, eventbus, windowService, toastr, customCaller);\n  }\n\n  viewActivity(parent: string, header: string) {\n    this.navigateByBus(['/activity/list/parent/' + parent], 'viewActivity', {\n      parent,\n      header\n    });\n  }\n\n  openModalWithComponent(\n    eventType: 'deleteMany' | 'deleteOne' | 'revokeOne',\n    header: string,\n    description: string,\n    extraData: object,\n    cancelText = 'Cancel',\n    actionText = 'Delete Selected'\n  ) {\n    this.deleteModalRef = this.modalService.show(DeleteModalComponent, {\n      class: 'modal-dialog-shared-extra-small',\n      backdrop: 'static',\n      keyboard: false,\n      initialState: {\n        eventType: `${this.eventNamespace}-${eventType}`,\n        header,\n        description,\n        cancelText,\n        actionText,\n        extraData\n      }\n    });\n  }\n\n\n  onToggleCheckBoxes(event) {\n    const checkBoxes = event.target.parentElement.querySelector('.checkBoxes');\n    const siblings = event.target.parentElement.parentElement.querySelectorAll(':scope > li:not(:first-child)');\n\n    siblings.forEach((sibling) => {\n      sibling.querySelector('.checkBoxesx').style.display = 'none';\n    });\n    if (checkBoxes) {\n      checkBoxes.style.display = checkBoxes.style.display === 'block' ? 'none' : 'block';\n    }\n  }\n\n  clearDateComparison() {\n    this.currentActivePopupId = '';\n    this.offset = 0;\n    for (const val of ['createdAt', 'updatedAt', 'invoiceRelated.fromDate', 'invoiceRelated.toDate']) {\n      this.removePropCompareVal(val);\n    }\n\n    this.getDataArr();\n  }\n\n  applyBlockDateSelect(where: string) {\n    this.currentActivePopupId = '';\n    const dateRange = constructDateRange(where);\n\n    if (!dateRange) {\n      throw new EagleInfoClientError('Invalid date range');\n    }\n\n    for (const val of ['createdAt', 'updatedAt', 'invoiceRelated.fromDate', 'invoiceRelated.toDate']) {\n      this.removePropCompareVal(val);\n    }\n\n    const { fromDate, toDate } = dateRange;\n\n    const comparisonFilter: IcomparisonFilter[] = [];\n\n    if (fromDate) {\n      comparisonFilter.push({\n        field: 'createdAt',\n        fieldValue: fromDate,\n        operator: 'gte'\n      });\n    }\n\n    if (toDate) {\n      comparisonFilter.push({\n        field: 'createdAt',\n        fieldValue: toDate,\n        operator: 'lte'\n      });\n    }\n\n    this.resetPagination();\n    this.filterProps = {\n      comparisonFilter\n    };\n    this.getDataArr();\n  }\n\n  toDateNotif(event?: Date) {\n    this.toDate = event;\n\n    if (event) {\n      this.compareBy([\n        {\n          field: 'invoiceRelated.toDate',\n          fieldValue: event,\n          operator: 'lt'\n        }\n      ]);\n    } else {\n      this.removePropCompareVal('toDate');\n      this.offset = 0;\n      this.getDataArr();\n    }\n  }\n\n  fromDateNotif(event?: Date) {\n    this.fromDate = event;\n    if (event) {\n      this.compareBy([\n        {\n          field: 'invoiceRelated.fromDate',\n          fieldValue: event,\n          operator: 'gt'\n        }\n      ]);\n    } else {\n      this.removePropCompareVal('fromDate');\n      this.offset = 0;\n      this.getDataArr();\n    }\n  }\n\n  openBox(val): void {\n    openBoxFn(val, this.selectBoxOpen);\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
