{
  "version": 3,
  "sources": ["projects/shared-lib/src/lib/utils/miscfns.ts"],
  "sourcesContent": ["import { FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport {\n  Buyer, Item\n} from '@biz-nest/commerce-client';\nimport { FrontendLogger, IcommerceUser, IfileMeta, IinvoiceRelated, Isuccess } from '@biz-nest/core-client';\nimport { EagleInfoClientError } from '@main-shared-lib';\nimport { AxiosError } from 'axios';\nimport {\n  ApexAxisChartSeries,\n  ApexChart,\n  ApexDataLabels,\n  ApexFill,\n  ApexGrid,\n  ApexLegend,\n  ApexMarkers,\n  ApexPlotOptions,\n  ApexResponsive,\n  ApexStroke,\n  ApexTitleSubtitle,\n  ApexTooltip,\n  ApexXAxis,\n  ApexYAxis\n} from 'ng-apexcharts';\nimport { ToastrService } from 'ngx-toastr';\nimport { WindowService } from '../services/window.service';\n\ndeclare let $;\n\nexport const markFormGroupTouched = (formGroup: FormGroup, instance) => {\n  Object.values(formGroup.controls).forEach((control) => {\n    control.markAsTouched();\n    control.markAsDirty();\n    if ((control as unknown as {controls}).controls && instance) {\n      // instance.markFormGroupTouched(control);\n    }\n  });\n};\n\nexport const getRequiredForm = <T, K extends keyof T>(\n  key: K,\n  form: FormGroup<{\n    [P in keyof T]: FormControl<T[P] | null>\n  }>\n) => {\n  const control = form.get(key as string);\n\n  if (!control) {\n    throw new EagleInfoClientError(`Required control ${String(key)} not found in form`);\n  }\n\n  const value = control;\n\n  return value;\n};\n\nexport const extractFirstPhotoFromFileMetas = (\n  fileMeta?: IfileMeta[] | string[],\n  defaultLocalImage = 'assets/imgs/person.png'\n) => {\n  if (fileMeta && fileMeta[0] && typeof fileMeta[0] === 'object') {\n    return fileMeta[0].url;\n  }\n\n  return defaultLocalImage;\n};\n\n\nexport const getBillingUserPhoto = (invoiceRelated?: IinvoiceRelated | IinvoiceRelated<number, IcommerceUser>) => {\n  return invoiceRelated?.billingUserPhoto || 'assets/imgs/person.png';\n};\n\nexport const scrollToTop = (windowService: WindowService): void => {\n  windowService.doc.body.scrollTop = windowService.doc.documentElement.scrollTop = 0;\n};\n\nexport const scrollToPosition = (windowService: WindowService, id: string): void => {\n  const element = windowService.doc?.getElementById(id);\n\n  if (element) {\n    element.scrollIntoView({ behavior: 'smooth' });\n  }\n};\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const loadDynmicallyScriptFn = (js: string, callbackFn?: Function) => {\n  const script = document.createElement('script');\n\n  script.src = js;\n  script.async = false;\n  document.head.appendChild(script);\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n  script.onload = () => (callbackFn ? callbackFn() : null);\n};\n\n\nexport const likeFnNav = (\n  user: IcommerceUser | Buyer,\n  item: Item,\n  toastr: ToastrService,\n  router: Router\n) => {\n  if (!user) {\n    toastr.success('you must be looged in to like ' + item.name.slice(0, 16), 'Please LogIn');\n    router.navigate(['/login']);\n\n    return;\n  }\n\n  return item\n    .like()\n    .catch((err: AxiosError<Isuccess>) => {\n      FrontendLogger.debug(':like:: - err ', err);\n\n      return { success: false, err: err.response?.data?.err };\n    });\n};\n\nexport const unLikeFnNav = (\n  user: IcommerceUser | Buyer,\n  item: Item,\n  toastr: ToastrService,\n  router: Router\n) => {\n  if (!user) {\n    toastr.success('you must be looged in to like ' + item.name.slice(0, 16), 'Please LogIn');\n    router.navigate(['/login']);\n\n    return;\n  }\n\n  return item\n    .unLike()\n    .catch((err: AxiosError<Isuccess>) => {\n      FrontendLogger.debug(':unLike:: - err ', err);\n\n      return { success: false, err: err.response?.data?.err };\n    });\n};\n\n\nexport type TchartOptions = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  series: Partial<ApexAxisChartSeries> | any;\n  chart: ApexChart;\n  xaxis: ApexXAxis;\n  dataLabels: ApexDataLabels;\n  grid: ApexGrid;\n  stroke: ApexStroke;\n  title: ApexTitleSubtitle;\n  plotOptions: ApexPlotOptions;\n  yaxis: ApexYAxis | ApexYAxis[];\n  legend: ApexLegend;\n  tooltip: ApexTooltip;\n  responsive: ApexResponsive[];\n  fill: ApexFill;\n  labels: string[];\n  colors: string[];\n  markers: ApexMarkers;\n};\n\nexport const formDateToYMD = (date: Date | string) => {\n  if (!date) {\n    return undefined;\n  }\n  const formarted = new Date(date).getFullYear() + '-' +\n        (new Date(date).getMonth() + 1) + '-' +\n        new Date(date).getDate();\n\n  return formarted;\n};\n\n"],
  "mappings": ";AA6BO,IAAM,uBAAuB,CAAC,WAAsB,aAAY;AACrE,SAAO,OAAO,UAAU,QAAQ,EAAE,QAAQ,CAAC,YAAW;AACpD,YAAQ,cAAa;AACrB,YAAQ,YAAW;AACnB,QAAK,QAAkC,YAAY,UAAU;IAE7D;EACF,CAAC;AACH;AAmCO,IAAM,cAAc,CAAC,kBAAsC;AAChE,gBAAc,IAAI,KAAK,YAAY,cAAc,IAAI,gBAAgB,YAAY;AACnF;",
  "names": []
}
