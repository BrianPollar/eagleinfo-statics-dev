{
  "version": 3,
  "sources": ["projects/shared-lib/src/lib/components/base/un-reliable/un-reliable-buyer/un-reliable-buyer-list-base.ts", "projects/admin-panel/src/app/components/pane/un-reliable/un-reliable-user/un-reliable-user/un-reliable-user-list/un-reliable-user-list.component.ts", "projects/admin-panel/src/app/components/pane/un-reliable/un-reliable-user/un-reliable-user/un-reliable-user-list/un-reliable-user-list.component.html"],
  "sourcesContent": ["import { Meta, Title } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { User } from '@biz-nest/auth-client';\nimport { UnreliableBuyer } from '@biz-nest/commerce-client';\nimport { FrontendLogger } from '@biz-nest/core-client';\nimport {\n  AppNameService,\n  EventbusService, ListComposeAdminPanel,\n  MainBarTitleService,\n  scrollToTop, WindowService\n} from '@front-shared-lib';\nimport { navByBus } from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\n\nexport abstract class UnReliableUserListBase {\n  posting = false;\n  cleanup?: () => void;\n  listCompose = new ListComposeAdminPanel<User>(\n    User,\n    this.eventbus,\n    this.windowService,\n    this.toastr\n  );\n\n  navigateByBus = navByBus(this.eventbus, this.router).navigateByBus;\n\n  actions = [\n    {\n      label: 'View',\n      icon: 'visibility',\n      event: (user: User) => this.viewUser(user)\n    },\n    {\n      label: 'Delete',\n      icon: 'delete',\n      event: (user: User) => this.removeFromList(user)\n    }\n  ];\n\n  unreliableUsers?: UnreliableBuyer;\n\n  constructor(\n    protected windowService: WindowService,\n    protected toastr: ToastrService,\n    protected router: Router,\n    protected eventbus: EventbusService,\n    protected apNme: AppNameService,\n    public mainBarTitle: MainBarTitleService,\n    protected metaTagService: Meta,\n    protected titleService: Title\n  ) { }\n\n  async init() {\n    await this.getUnreliableBuyers();\n    if (this.unreliableUsers?.flaggedBuyers && this.unreliableUsers?.flaggedBuyers?.length > 0) {\n      this.listCompose.filterProps = {\n        propFilter: {\n          _id: this.unreliableUsers?.flaggedBuyers.map((val) => val.buyer) || []\n        }\n      };\n\n      this.listCompose.getDataArr();\n    }\n\n    this.mainBarTitle.title = 'Unreliable Users';\n    this.titleService.setTitle(this.mainBarTitle.title + ' - ' + this.apNme.name);\n    this.metaTagService.updateTag({\n      name: 'description',\n      content: `Efficiently manage and comprehensively monitor your unreliable users,\n      empowering you to maintain financial clarity and make informed decisions\n      regarding your fiscal responsibilities and opportunities for savings.`\n    });\n\n    scrollToTop(this.windowService);\n  }\n\n  async getUnreliableBuyers() {\n    try {\n      const { dataArr } = await UnreliableBuyer.getAll();\n\n      this.unreliableUsers = dataArr[0];\n    } catch (error) {\n      FrontendLogger.error(error);\n    }\n  }\n\n\n  abstract removeFromList(user: User): void;\n\n  viewUser(user: User): void {\n    this.router.navigate([`/manage-user/${user._id}`]);\n  }\n\n  destroy(): void {\n    this.listCompose.cleanup?.();\n  }\n}\n", "import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { Router, RouterModule } from '@angular/router';\nimport { User } from '@biz-nest/auth-client';\nimport { UnreliableBuyer } from '@biz-nest/commerce-client';\nimport { FrontendLogger } from '@biz-nest/core-client';\nimport {\n  AppNameService,\n  EventbusService,\n  MainBarTitleService, UnReliableUserListBase,\n  WindowService\n} from '@front-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport {\n  AdminDateFilterFieldComponent\n} from '../../../../misc/admin-date-filter-field/admin-date-filter-field.component';\nimport { AdminModalComponent } from '../../../../misc/admin-modal/admin-modal.component';\nimport { AdminPageContentComponent } from '../../../../misc/admin-page-content/admin-page-content.component';\nimport { AdminSearchFieldComponent } from '../../../../misc/admin-search-field/admin-search-field.component';\nimport { AdminTableComponent } from '../../../../misc/admin-table/admin-table.component';\nimport { AdminTopBarComponent } from '../../../../misc/admin-top-bar/admin-top-bar.component';\n\n@Component({\n  selector: 'app-un-reliable-user-list',\n  standalone: true,\n  imports: [\n    RouterModule,\n    AdminModalComponent,\n    AdminTableComponent,\n    AdminPageContentComponent,\n    AdminSearchFieldComponent,\n    AdminDateFilterFieldComponent,\n    AdminTopBarComponent\n  ],\n  templateUrl: './un-reliable-user-list.component.html',\n  styleUrl: './un-reliable-user-list.component.scss'\n})\nexport class UnReliableUserListComponent\n  extends UnReliableUserListBase\n  implements OnInit, OnDestroy {\n  deleteModalOptions = {\n    showModal: false,\n    modalTitle: 'Remove User From Red List',\n    modalMsg: 'Are you sure you want to remove this user from the red list?',\n    modalCancelButton: true,\n    modalCancelText: 'Cancel',\n    modalConfirmText: 'Remove',\n    modalConfirmButton: true\n  };\n\n  user!: User;\n\n  constructor(\n    protected override windowService: WindowService,\n    protected override toastr: ToastrService,\n    protected override router: Router,\n    protected override eventbus: EventbusService,\n    protected override apNme: AppNameService,\n    public override mainBarTitle: MainBarTitleService,\n    protected override metaTagService: Meta,\n    protected override titleService: Title\n  ) {\n    super(windowService, toastr, router, eventbus, apNme, mainBarTitle, metaTagService, titleService);\n  }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  removeFromList(user: User) {\n    this.toggleModalDelete();\n    this.user = user;\n  }\n\n  async onModalDeleteConfirm(event: boolean) {\n    if (!event) {\n      return;\n    }\n\n    try {\n      await UnreliableBuyer.modify(this.user._id, 'red', 'remove');\n\n      this.listCompose.getDataArr();\n      this.toastr.success('User removed from red list successfully');\n    } catch (error) {\n      FrontendLogger.error(error);\n      this.toastr.error('Failed to remove user from red list');\n    }\n  }\n\n  toggleModalDelete() {\n    this.deleteModalOptions.showModal = !this.deleteModalOptions.showModal;\n  }\n\n  ngOnDestroy(): void {\n    this.destroy();\n  }\n}\n", "<app-admin-page-content>\n  <app-admin-top-bar\n    title=\"Unreliable User List\"\n    [breadCrumbs]=\"[\n      {\n        name: 'Dashboard',\n        icon: 'space_dashboard',\n        link: '/'\n      },\n      {\n        name: 'Unreliable User List',\n        icon: 'assessment'\n      }\n    ]\"\n  />\n\n  <div class=\"card !border !border-default-white-shade rounded-2xl\">\n    <div class=\"card-body\">\n      <div class=\"grid grid-cols-12 relative mb-4\">\n        <div class=\"col-span-12 md:col-span-4 w-[170px]\">\n          <app-admin-search-field\n            [options]=\"[\n              {\n                label: 'ID',\n                value: 'urId'\n              },\n              {\n                label: 'Name',\n                value: 'names'\n              },\n              {\n                label: 'Email',\n                value: 'email'\n              },\n              {\n                label: 'Phone',\n                value: 'phone'\n              }\n            ]\"\n            (filter)=\"listCompose.searchBy($event)\"\n          />\n        </div>\n\n        @if(listCompose.selections.length === 0) {\n        <div class=\"col-span-12 md:col-span-4 w-[170px] xl:block hidden\">\n          <app-admin-date-filter-field\n            placeholder=\"Filter By Date Added\"\n            (filter)=\"listCompose.createdAtNotif($event)\"\n            (filterRange)=\"listCompose.createdAtNotifRange($event)\"\n          />\n        </div>\n        }\n      </div>\n\n      <app-admin-table\n        [selectable]=\"false\"\n        [selections]=\"listCompose.selections\"\n        [currentActivePopupId]=\"listCompose.currentActivePopupId\"\n        [dataArr]=\"listCompose.dataArr\"\n        [limit]=\"listCompose.limit\"\n        [offset]=\"listCompose.offset\"\n        [count]=\"listCompose.count\"\n        [showingUpper]=\"listCompose.showingUpper\"\n        [showingLower]=\"listCompose.showingLower\"\n        [currentIndex]=\"listCompose.currentIndex\"\n        [loading]=\"listCompose.loading\"\n        [columns]=\"[\n          {\n            header: 'ID',\n            field: 'urId',\n            isDefaultField: true,\n            sortable: true\n          },\n          {\n            header: 'Name',\n            field: 'names',\n            sortable: true,\n            removeWhen: 'small'\n          },\n          {\n            header: 'Email',\n            field: 'email',\n            sortable: true,\n            removeWhen: 'medium'\n          },\n          {\n            header: 'Phone',\n            field: 'phone',\n            sortable: true,\n            removeWhen: 'large'\n          },\n          {\n            header: 'Date Added',\n            field: 'createdAt',\n            sortable: true,\n            removeWhen: 'medium'\n          },\n          {\n            header: 'Title',\n            field: 'title',\n            sortable: true,\n            removeWhen: 'extra-large'\n          }\n        ]\"\n        [actions]=\"actions\"\n        (paginateItems)=\"listCompose.paginateItems($event)\"\n        (openExtras)=\"listCompose.openExtras($event)\"\n        (sortChange)=\"listCompose.sortBy($event.field, $event.direction)\"\n        (selectionToggle)=\"listCompose.toggleSelection($event)\"\n        (viewItem)=\"viewUser($event)\"\n      />\n    </div>\n  </div>\n</app-admin-page-content>\n\n<app-admin-modal\n  [multipleDelete]=\"listCompose.multipleDelete\"\n  [showModal]=\"deleteModalOptions.showModal\"\n  [title]=\"deleteModalOptions.modalTitle\"\n  [message]=\"deleteModalOptions.modalMsg\"\n  [cancelButton]=\"deleteModalOptions.modalCancelButton\"\n  [cancelText]=\"deleteModalOptions.modalCancelText\"\n  [confirmText]=\"deleteModalOptions.modalConfirmText\"\n  [confirmButon]=\"deleteModalOptions.modalConfirmButton\"\n  (closed)=\"toggleModalDelete()\"\n  (confirm)=\"onModalDeleteConfirm($event)\"\n/>\n"],
  "mappings": "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",
  "names": []
}
