{
  "version": 3,
  "sources": ["projects/admin-panel/src/app/components/pane/operational-location/add-update-operational-location/add-update-operational-location.component.ts", "projects/admin-panel/src/app/components/pane/operational-location/add-update-operational-location/add-update-operational-location.component.html"],
  "sourcesContent": ["import { Location } from '@angular/common';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { OperationalLocation } from '@biz-nest/commerce-client';\nimport {\n  BizNestClientError, FrontendLogger, getBizNestErrorResponseMessage,\n  Ifile, ToperationalLocationRequest\n} from '@biz-nest/core-client';\nimport {\n  AppNameService,\n  EventbusService, MainBarTitleService,\n  markFormGroupTouched,\n  patternWithMessage,\n  scrollToTop,\n  WindowService\n} from '@front-shared-lib';\nimport { controlNames, Icrumb, runSubscriptionsForSharedUse } from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { AdminBackBarComponent } from '../../misc/admin-back-bar/admin-back-bar.component';\nimport { AdminFormInstructionComponent } from '../../misc/admin-form-instruction/admin-form-instruction.component';\nimport { AdminPageContentComponent } from '../../misc/admin-page-content/admin-page-content.component';\nimport { AdminFormFieldComponent } from '../../misc/form/admin-form-field/admin-form-field.component';\nimport { AdminFormButtonComponent } from '../../misc/form/button/admin-form-button/admin-form-button.component';\n\n@Component({\n  selector: 'app-add-update-operational-location',\n  standalone: true,\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    AdminBackBarComponent,\n    AdminFormFieldComponent,\n    AdminFormButtonComponent,\n    AdminPageContentComponent,\n    AdminFormInstructionComponent\n  ],\n  templateUrl: './add-update-operational-location.component.html',\n  styleUrl: './add-update-operational-location.component.scss'\n})\nexport class AddUpdateOperationalLocationComponent\nimplements OnInit, OnDestroy {\n  url = 'citys';\n  addOperationalLocationForm: FormGroup<{\n    [K in keyof Partial<ToperationalLocationRequest<true>>]\n  }>;\n\n  loading = false;\n  operationalLocation?: OperationalLocation;\n  files: Ifile[] = [];\n  posting = false;\n  cleanup?: () => void;\n  errMsg?: string;\n  dateLeft?: string;\n  dateOfEst?: string;\n  breadCrumbs: Icrumb[] = [\n    {\n      name: 'Dashboard',\n      icon: 'space_dashboard',\n      link: '/'\n    },\n    {\n      name: 'Operational Location',\n      icon: 'location_city',\n      link: '/operational-location/list'\n    },\n    {\n      name: 'Edit Operational Location',\n      icon: 'edit'\n    }\n  ];\n\n  constructor(\n    private fb: FormBuilder,\n    private toastr: ToastrService,\n    public eventbus: EventbusService,\n    private route: ActivatedRoute,\n    private apNme: AppNameService,\n    public mainBarTitle: MainBarTitleService,\n    private location: Location,\n    private windowService: WindowService,\n    private metaTagService: Meta,\n    private titleService: Title\n  ) {\n    const editAction = this.route.snapshot?.params['editAction'];\n\n    this.mainBarTitle.title = editAction === 'add' ? 'Add Operations Location' : 'Update Operations Location';\n\n    this.addOperationalLocationForm = this.fb.group<{\n      [K in keyof Partial<ToperationalLocationRequest<true>>]\n    }>({\n      placeName: [\n        '',\n        Validators.compose([\n          Validators.minLength(3),\n          Validators.maxLength(20),\n          Validators.required\n        ])\n      ],\n      cityName: [\n        '',\n        Validators.compose([\n          Validators.minLength(3),\n          Validators.maxLength(20),\n          Validators.required\n        ])\n      ],\n      address: [\n        '',\n        Validators.compose([\n          Validators.minLength(3),\n          Validators.maxLength(180)\n        ])\n      ],\n      contactEmail: [\n        '',\n        Validators.compose([\n          Validators.minLength(3),\n          Validators.maxLength(180)\n        ])\n      ],\n      contactPhone: [\n        '',\n        Validators.compose([\n          Validators.minLength(3),\n          Validators.maxLength(180)\n        ])\n      ],\n      shippingCost: [\n        '',\n        Validators.compose([\n          Validators.minLength(0),\n          Validators.maxLength(8),\n          patternWithMessage(/^[0-9]+(\\.[0-9]+)?$/, 'Only numbers are allowed'),\n          Validators.required\n        ])\n      ],\n      deliversInDays: [\n        '',\n        Validators.compose([\n          Validators.minLength(1),\n          Validators.maxLength(2),\n          patternWithMessage(/^[0-9]+$/, 'Only numbers(integers) are allowed'),\n          Validators.required\n        ])\n      ]\n    });\n  }\n\n  get controlNames() {\n    return controlNames(this.addOperationalLocationForm.controls);\n  }\n\n  ngOnInit(): void {\n    const handlers = {\n      updateOperationalLocation: (data: OperationalLocation) => {\n        if (!data._id || !data.placeName) {\n          throw new BizNestClientError('Invalid OperationalLocation');\n        }\n        this.mainBarTitle.title = 'Update Operations Location - ' + data.placeName;\n        this.operationalLocation = data;\n        this.addOperationalLocationForm.patchValue(this.operationalLocation);\n      }\n    };\n\n    const { cleanup } = runSubscriptionsForSharedUse(this.eventbus, handlers);\n\n    this.cleanup = cleanup;\n    this.titleService.setTitle(this.mainBarTitle.title + ' - ' + this.apNme.name);\n    this.metaTagService.updateTag({\n      name: 'description',\n      content: 'Easily manage and edit operational location details for effective city management.'\n    });\n  }\n\n  checkControlInvalidOrDirty(controlName: keyof ToperationalLocationRequest<true>) {\n    return !this.addOperationalLocationForm.get(controlName)?.valid &&\n    this.addOperationalLocationForm.get(controlName)?.dirty;\n  }\n\n  async saveChanges() {\n    if (this.addOperationalLocationForm.invalid) {\n      markFormGroupTouched(this.addOperationalLocationForm, this);\n      scrollToTop(this.windowService);\n\n      return;\n    } else {\n      const formValues = this.addOperationalLocationForm.value;\n\n      const data: ToperationalLocationRequest<true> = {\n        placeName: formValues.placeName,\n        cityName: formValues.cityName,\n        address: formValues.address,\n        shippingCost: formValues.shippingCost,\n        deliversInDays: formValues.deliversInDays,\n        contactEmail: formValues.contactEmail,\n        contactPhone: formValues.contactEmail\n      };\n\n      try {\n        this.posting = true;\n        if (this.operationalLocation) {\n          await this.operationalLocation.update(data);\n        } else {\n          await OperationalLocation.add(data);\n        }\n\n        this.addOperationalLocationForm.reset();\n        this.toastr.success('Operation sucessfull...!', 'Success');\n        if (this.operationalLocation) {\n          this.location.back();\n        }\n\n        scrollToTop(this.windowService);\n      } catch (error) {\n        FrontendLogger.error('AddOperationalLocationComponent:addOperationalLocation:: - err ', error);\n        this.toastr.error(getBizNestErrorResponseMessage(error), 'Failed', {\n          disableTimeOut: true\n        });\n      } finally {\n        this.posting = false;\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.cleanup?.();\n  }\n}\n", "<app-admin-page-content>\n  <app-admin-back-bar\n    [title]=\"mainBarTitle.title\"\n    [breadCrumbs]=\"breadCrumbs\"\n  />\n  <div\n    class=\"container mx-auto md:px-6 md:pt-32 pb-32 pt-12 !min-h-[100vh] !mb-[180px]\"\n  >\n    <section class=\"text-center min-h-[100vh] mx-auto max-w-[700px]\">\n      <app-admin-form-instruction />\n      <div class=\"md:px-3 h-full flex items-center justify-center\">\n        @if(addOperationalLocationForm){\n        <form\n          class=\"space-y-8 !bg-default-white p-10 rounded-2xl shadow-2xl border !border-default-white-shade backdrop-blur-sm w-full\"\n          [formGroup]=\"addOperationalLocationForm\"\n        >\n          <div class=\"text-center mb-6\">\n            <h2 class=\"text-3xl font-extrabold tracking-tight\">\n              Edit Operational Location\n            </h2>\n            <p class=\"mt-2 text-sm text-gray-500\">\n              Provide comprehensive Operational Location details\n            </p>\n          </div>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <app-admin-form-field\n              [formControlName]=\"controlNames.placeName\"\n              [label]=\"'Place Name'\"\n            />\n\n            <app-admin-form-field\n              [formControlName]=\"controlNames.cityName\"\n              [label]=\"'City Name'\"\n            />\n\n            <app-admin-form-field\n              [formControlName]=\"controlNames.address\"\n              [label]=\"'Place Address'\"\n            />\n\n            <app-admin-form-field\n              [formControlName]=\"controlNames.contactEmail\"\n              [label]=\"'Email Address'\"\n            />\n\n            <app-admin-form-field\n              [formControlName]=\"controlNames.contactPhone\"\n              [label]=\"'Phone Number'\"\n            />\n\n            <app-admin-form-field\n              [formControlName]=\"controlNames.shippingCost\"\n              [label]=\"'Shipping Cost'\"\n            />\n          </div>\n\n          <app-admin-form-field\n            [formControlName]=\"controlNames.deliversInDays\"\n            [label]=\"'Delivers In Days'\"\n          />\n\n          <app-admin-form-button\n            [tooltip]=\"'Saves Operational Location Details.'\"\n            [btnText]=\"'Save Operational Location'\"\n            [disabled]=\"posting\"\n            [posting]=\"posting\"\n            (save)=\"saveChanges()\"\n          />\n        </form>\n        }\n      </div>\n    </section>\n  </div>\n</app-admin-page-content>\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACYQ,IAAA,yBAAA,GAAA,QAAA,CAAA,EAGC,GAAA,OAAA,CAAA,EAC+B,GAAA,MAAA,CAAA;AAE1B,IAAA,iBAAA,GAAA,6BAAA;AACF,IAAA,uBAAA;AACA,IAAA,yBAAA,GAAA,KAAA,CAAA;AACE,IAAA,iBAAA,GAAA,sDAAA;AACF,IAAA,uBAAA,EAAI;AAGN,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,oBAAA,GAAA,wBAAA,CAAA,EAGE,GAAA,wBAAA,CAAA,EAKA,GAAA,wBAAA,CAAA,EAKA,IAAA,wBAAA,CAAA,EAKA,IAAA,wBAAA,CAAA,EAKA,IAAA,wBAAA,CAAA;AAMJ,IAAA,uBAAA;AAEA,IAAA,oBAAA,IAAA,wBAAA,CAAA;AAKA,IAAA,yBAAA,IAAA,yBAAA,EAAA;AAKE,IAAA,qBAAA,QAAA,SAAA,sGAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAQ,OAAA,YAAA,CAAa;IAAA,CAAA;AALvB,IAAA,uBAAA,EAME;;;;AAtDF,IAAA,qBAAA,aAAA,OAAA,0BAAA;AAaI,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,SAAA,EAA0C,SAAA,YAAA;AAK1C,IAAA,oBAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,QAAA,EAAyC,SAAA,WAAA;AAKzC,IAAA,oBAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,OAAA,EAAwC,SAAA,eAAA;AAKxC,IAAA,oBAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,YAAA,EAA6C,SAAA,eAAA;AAK7C,IAAA,oBAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,YAAA,EAA6C,SAAA,cAAA;AAK7C,IAAA,oBAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,YAAA,EAA6C,SAAA,eAAA;AAM/C,IAAA,oBAAA;AAAA,IAAA,qBAAA,mBAAA,OAAA,aAAA,cAAA,EAA+C,SAAA,kBAAA;AAK/C,IAAA,oBAAA;AAAA,IAAA,qBAAA,WAAA,qCAAA,EAAiD,WAAA,2BAAA,EACV,YAAA,OAAA,OAAA,EACnB,WAAA,OAAA,OAAA;;;ADxB1B,IAAO,wCAAP,MAAO,uCAAqC;EAgChD,YACU,IACA,QACD,UACC,OACA,OACD,cACC,UACA,eACA,gBACA,cAAmB;AATnB,SAAA,KAAA;AACA,SAAA,SAAA;AACD,SAAA,WAAA;AACC,SAAA,QAAA;AACA,SAAA,QAAA;AACD,SAAA,eAAA;AACC,SAAA,WAAA;AACA,SAAA,gBAAA;AACA,SAAA,iBAAA;AACA,SAAA,eAAA;AAxCV,SAAA,MAAM;AAKN,SAAA,UAAU;AAEV,SAAA,QAAiB,CAAA;AACjB,SAAA,UAAU;AAKV,SAAA,cAAwB;MACtB;QACE,MAAM;QACN,MAAM;QACN,MAAM;;MAER;QACE,MAAM;QACN,MAAM;QACN,MAAM;;MAER;QACE,MAAM;QACN,MAAM;;;AAgBR,UAAM,aAAa,KAAK,MAAM,UAAU,OAAO,YAAY;AAE3D,SAAK,aAAa,QAAQ,eAAe,QAAQ,4BAA4B;AAE7E,SAAK,6BAA6B,KAAK,GAAG,MAEvC;MACD,WAAW;QACT;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,EAAE;UACvB,WAAW;SACZ;;MAEH,UAAU;QACR;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,EAAE;UACvB,WAAW;SACZ;;MAEH,SAAS;QACP;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,GAAG;SACzB;;MAEH,cAAc;QACZ;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,GAAG;SACzB;;MAEH,cAAc;QACZ;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,GAAG;SACzB;;MAEH,cAAc;QACZ;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,CAAC;UACtB,mBAAmB,uBAAuB,0BAA0B;UACpE,WAAW;SACZ;;MAEH,gBAAgB;QACd;QACA,WAAW,QAAQ;UACjB,WAAW,UAAU,CAAC;UACtB,WAAW,UAAU,CAAC;UACtB,mBAAmB,YAAY,oCAAoC;UACnE,WAAW;SACZ;;KAEJ;EACH;EAEA,IAAI,eAAY;AACd,WAAO,aAAa,KAAK,2BAA2B,QAAQ;EAC9D;EAEA,WAAQ;AACN,UAAM,WAAW;MACf,2BAA2B,CAAC,SAA6B;AACvD,YAAI,CAAC,KAAK,OAAO,CAAC,KAAK,WAAW;AAChC,gBAAM,IAAI,mBAAmB,6BAA6B;QAC5D;AACA,aAAK,aAAa,QAAQ,kCAAkC,KAAK;AACjE,aAAK,sBAAsB;AAC3B,aAAK,2BAA2B,WAAW,KAAK,mBAAmB;MACrE;;AAGF,UAAM,EAAE,QAAO,IAAK,6BAA6B,KAAK,UAAU,QAAQ;AAExE,SAAK,UAAU;AACf,SAAK,aAAa,SAAS,KAAK,aAAa,QAAQ,QAAQ,KAAK,MAAM,IAAI;AAC5E,SAAK,eAAe,UAAU;MAC5B,MAAM;MACN,SAAS;KACV;EACH;EAEA,2BAA2B,aAAoD;AAC7E,WAAO,CAAC,KAAK,2BAA2B,IAAI,WAAW,GAAG,SAC1D,KAAK,2BAA2B,IAAI,WAAW,GAAG;EACpD;EAEM,cAAW;;AACf,UAAI,KAAK,2BAA2B,SAAS;AAC3C,6BAAqB,KAAK,4BAA4B,IAAI;AAC1D,oBAAY,KAAK,aAAa;AAE9B;MACF,OAAO;AACL,cAAM,aAAa,KAAK,2BAA2B;AAEnD,cAAM,OAA0C;UAC9C,WAAW,WAAW;UACtB,UAAU,WAAW;UACrB,SAAS,WAAW;UACpB,cAAc,WAAW;UACzB,gBAAgB,WAAW;UAC3B,cAAc,WAAW;UACzB,cAAc,WAAW;;AAG3B,YAAI;AACF,eAAK,UAAU;AACf,cAAI,KAAK,qBAAqB;AAC5B,kBAAM,KAAK,oBAAoB,OAAO,IAAI;UAC5C,OAAO;AACL,kBAAM,oBAAoB,IAAI,IAAI;UACpC;AAEA,eAAK,2BAA2B,MAAK;AACrC,eAAK,OAAO,QAAQ,4BAA4B,SAAS;AACzD,cAAI,KAAK,qBAAqB;AAC5B,iBAAK,SAAS,KAAI;UACpB;AAEA,sBAAY,KAAK,aAAa;QAChC,SAAS,OAAO;AACd,yBAAe,MAAM,mEAAmE,KAAK;AAC7F,eAAK,OAAO,MAAM,+BAA+B,KAAK,GAAG,UAAU;YACjE,gBAAgB;WACjB;QACH;AACE,eAAK,UAAU;QACjB;MACF;IACF;;EAEA,cAAW;AACT,SAAK,UAAS;EAChB;;;uBA3LW,wCAAqC,4BAAA,WAAA,GAAA,4BAAA,aAAA,GAAA,4BAAA,eAAA,GAAA,4BAAA,cAAA,GAAA,4BAAA,cAAA,GAAA,4BAAA,mBAAA,GAAA,4BAAA,QAAA,GAAA,4BAAA,aAAA,GAAA,4BAAA,IAAA,GAAA,4BAAA,KAAA,CAAA;IAAA;EAAA;;yEAArC,wCAAqC,WAAA,CAAA,CAAA,qCAAA,CAAA,GAAA,YAAA,MAAA,UAAA,CAAA,6BAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,SAAA,aAAA,GAAA,CAAA,GAAA,aAAA,WAAA,WAAA,YAAA,SAAA,SAAA,kBAAA,aAAA,GAAA,CAAA,GAAA,eAAA,iBAAA,WAAA,eAAA,GAAA,CAAA,GAAA,WAAA,UAAA,QAAA,gBAAA,gBAAA,GAAA,CAAA,GAAA,aAAA,qBAAA,QAAA,eAAA,cAAA,UAAA,+BAAA,oBAAA,UAAA,GAAA,WAAA,GAAA,CAAA,GAAA,eAAA,MAAA,GAAA,CAAA,GAAA,YAAA,kBAAA,gBAAA,GAAA,CAAA,GAAA,QAAA,WAAA,eAAA,GAAA,CAAA,GAAA,QAAA,eAAA,kBAAA,OAAA,GAAA,CAAA,GAAA,mBAAA,OAAA,GAAA,CAAA,GAAA,QAAA,WAAA,WAAA,YAAA,SAAA,CAAA,GAAA,UAAA,SAAA,+CAAA,IAAA,KAAA;AAAA,UAAA,KAAA,GAAA;ACzClD,QAAA,yBAAA,GAAA,wBAAA;AACE,QAAA,oBAAA,GAAA,sBAAA,CAAA;AAIA,QAAA,yBAAA,GAAA,OAAA,CAAA,EAEC,GAAA,WAAA,CAAA;AAEG,QAAA,oBAAA,GAAA,4BAAA;AACA,QAAA,yBAAA,GAAA,OAAA,CAAA;AACE,QAAA,qBAAA,GAAA,8DAAA,IAAA,IAAA,QAAA,CAAA;AA4DF,QAAA,uBAAA,EAAM,EACE,EACN;;;AAvEJ,QAAA,oBAAA;AAAA,QAAA,qBAAA,SAAA,IAAA,aAAA,KAAA,EAA4B,eAAA,IAAA,WAAA;AASxB,QAAA,oBAAA,CAAA;AAAA,QAAA,wBAAA,GAAA,IAAA,6BAAA,IAAA,EAAA;;;MDmBJ;MAAW;MAAA;MAAA;MACX;MAAmB;MAAA;MACnB;MACA;MACA;MACA;MACA;IAA6B,EAAA,CAAA;EAAA;;;6EAKpB,uCAAqC,EAAA,WAAA,wCAAA,CAAA;AAAA,GAAA;",
  "names": []
}
