{
  "version": 3,
  "sources": ["projects/shared-lib/src/lib/components/base/flying-mail/add-update-mail/add-update-mail.base.ts", "projects/admin-panel/src/app/components/pane/admin-domain-related/admin-flying-mail/admin-add-update-mail/admin-add-update-mail.component.ts", "projects/admin-panel/src/app/components/pane/admin-domain-related/admin-flying-mail/admin-add-update-mail/admin-add-update-mail.component.html"],
  "sourcesContent": ["import { Location } from '@angular/common';\nimport { Directive, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { BizNestClientError, FrontendLogger, getBizNestErrorResponseMessage } from '@biz-nest/core-client';\nimport { AppNameService, EventbusService, MainBarTitleService } from '@front-shared-lib';\nimport {\n  controlNames,\n  generateRandomPassword,\n  Icrumb,\n  ImailForm, MailUser, runSubscriptionsForSharedUse\n} from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\n\n\n@Directive()\nexport class AddUpdateMailBase\nimplements OnInit, OnDestroy {\n  form: FormGroup<{\n    [K in keyof ImailForm]\n  }>;\n\n  mailUser?: MailUser;\n  cleanup?: () => void;\n  countUsers = 0;\n  posting = false;\n  breadCrumbs: Icrumb[] = [\n    {\n      name: 'Dashboard',\n      icon: 'space_dashboard',\n      link: '/'\n    },\n    {\n      name: 'Mail Accounts',\n      icon: 'alternate_email',\n      link: '/mail/list'\n    },\n    {\n      name: 'Edit',\n      icon: 'edit'\n    }\n  ];\n\n  constructor(\n    protected fb: FormBuilder,\n    protected route: ActivatedRoute,\n    protected toastr: ToastrService,\n    protected eventbus: EventbusService,\n    protected apNme: AppNameService,\n    public mainBarTitle: MainBarTitleService,\n    protected location: Location,\n    protected metaTagService: Meta,\n    protected titleService: Title\n  ) {\n    const editAction = this.route.snapshot?.params['editAction'];\n\n    this.mainBarTitle.title = editAction === 'add' ? 'Add Mail Account' : 'Update Mail Account';\n\n    this.form = this.fb.group<{\n      [K in keyof ImailForm]\n    }>({\n      email: [{ value: this.mailUser?.email, disabled: this.mailUser?.email }, Validators.compose([\n        Validators.minLength(4),\n        Validators.maxLength(60),\n        Validators.required])],\n      password: ['', Validators.compose([\n        Validators.minLength(8),\n        Validators.required])]\n    });\n  }\n\n  get controlNames() {\n    return controlNames(this.form.controls);\n  }\n\n  ngOnInit() {\n    const handlers = {\n      updateMail: (data: MailUser) => {\n        if (!data.id) {\n          throw new BizNestClientError('Invalid Mail Account');\n        }\n        this.mainBarTitle.title = 'Update Mail Mail Account - ' + data.email;\n        this.mailUser = data;\n        this.form.patchValue(this.mailUser);\n      }\n    };\n\n    const { cleanup } = runSubscriptionsForSharedUse(this.eventbus, handlers);\n\n    this.cleanup = cleanup;\n    this.titleService.setTitle(this.mainBarTitle.title + ' - ' + this.apNme.name);\n    this.metaTagService.updateTag({\n      name: 'description',\n      content: 'Easily add or edit your company mail credentials for seamless communication management.'\n    });\n  }\n\n  checkControlInvalidOrDirty(controlName: keyof ImailForm) {\n    return !this.form.get(controlName)?.valid &&\n    this.form.get(controlName)?.dirty;\n  }\n\n\n  async saveChanges() {\n    const mailDetails = {\n      email: this.form.get('email')?.value,\n      password: this.form.get('password')?.value\n    };\n\n    try {\n      this.posting = true;\n\n      if (this.mailUser) {\n        mailDetails.email = this.mailUser.email;\n        await this.mailUser.update(mailDetails);\n      } else {\n        await MailUser.add(mailDetails);\n      }\n\n      this.location.back();\n      this.toastr.success('Operation sucessfull...!', 'Success');\n    } catch (error) {\n      FrontendLogger.error('AddExpensesComponent:saveChanges:: - err ', error);\n\n      this.toastr.error(getBizNestErrorResponseMessage(error), 'Failed', {\n        disableTimeOut: true\n      });\n    } finally {\n      this.posting = false;\n    }\n  }\n\n  generateRandomPassword() {\n    const pw = generateRandomPassword();\n\n    this.form.controls['password'].setValue(pw);\n    this.form.controls['password'].markAsTouched();\n  }\n\n  ngOnDestroy() {\n    this.cleanup?.();\n  }\n}\n\n", "import { Location } from '@angular/common';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport {\n  AddUpdateMailBase, AppNameService,\n  EventbusService, MainBarTitleService, TooltipComponent\n} from '@front-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { AdminBackBarComponent } from '../../../misc/admin-back-bar/admin-back-bar.component';\nimport { AdminFormInstructionComponent } from '../../../misc/admin-form-instruction/admin-form-instruction.component';\nimport { AdminPageContentComponent } from '../../../misc/admin-page-content/admin-page-content.component';\nimport { AdminFormFieldComponent } from '../../../misc/form/admin-form-field/admin-form-field.component';\nimport { AdminFormButtonComponent } from '../../../misc/form/button/admin-form-button/admin-form-button.component';\n\n\n@Component({\n  selector: 'app-admin-add-update-mail',\n  standalone: true,\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    AdminBackBarComponent,\n    TooltipComponent,\n    AdminFormFieldComponent,\n    AdminFormButtonComponent,\n    AdminPageContentComponent,\n    AdminFormInstructionComponent\n  ],\n  templateUrl: './admin-add-update-mail.component.html',\n  styleUrl: './admin-add-update-mail.component.scss'\n})\nexport class AdminAddUpdateMailComponent\n  extends AddUpdateMailBase\n  implements OnInit, OnDestroy {\n  constructor(\n    protected override fb: FormBuilder,\n    protected override route: ActivatedRoute,\n    protected override toastr: ToastrService,\n    protected override eventbus: EventbusService,\n    protected override apNme: AppNameService,\n    public override mainBarTitle: MainBarTitleService,\n    protected override location: Location,\n    protected override metaTagService: Meta,\n    protected override titleService: Title\n  ) {\n    super(fb, route, toastr, eventbus, apNme, mainBarTitle, location, metaTagService, titleService);\n  }\n\n\n  override ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n}\n\n", "<app-admin-page-content>\n  <app-admin-back-bar\n    [title]=\"mainBarTitle.title\"\n    [breadCrumbs]=\"breadCrumbs\"\n  />\n  <div\n    class=\"container mx-auto md:px-6 md:pt-32 pb-32 pt-12 !min-h-[100vh] !mb-[180px]\"\n  >\n    <section class=\"text-center min-h-[100vh] mx-auto max-w-[700px]\">\n      <app-admin-form-instruction />\n      <div class=\"md:px-3 h-full flex items-center justify-center\">\n        <form\n          class=\"space-y-8 !bg-default-white p-10 rounded-2xl shadow-2xl border !border-default-white-shade backdrop-blur-sm w-full\"\n          [formGroup]=\"form\"\n          (ngSubmit)=\"saveChanges()\"\n        >\n          <div class=\"text-center mb-6\">\n            <h2 class=\"text-3xl font-extrabold tracking-tight\">\n              Edit Mail Account\n            </h2>\n            <p class=\"mt-2 text-sm text-gray-500\">\n              Provide comprehensive information for your mail account\n            </p>\n          </div>\n\n          <app-admin-form-field\n            [formControlName]=\"controlNames.email\"\n            [label]=\"'Email'\"\n          />\n\n          <div class=\"grid grid-cols-2 md:grid-cols-[1fr_auto] gap-4\">\n            <app-admin-form-field\n              [formControlName]=\"controlNames.password\"\n              [label]=\"'Password'\"\n            />\n\n            <div class=\"item-center\">\n              <lib-tooltip [popper]=\"'Generates strong random password.'\">\n                <button\n                  class=\"w-full py-3.5 mt-[22px] rounded-xl !bg-primary text-white font-bold uppercase tracking-wider hover:bg-primary-600 focus:outline-none focus:ring-4 focus:ring-primary/40 transition-all duration-300 ease-in-out transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed group shadow-lg shadow-primary/30 hover:shadow-primary/40\"\n                  (click)=\"generateRandomPassword(); $event.preventDefault()\"\n                >\n                  <span class=\"flex items-center justify-center space-x-2\">\n                    <span>Generate</span>\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      class=\"h-5 w-5 transition-transform group-hover:translate-x-1\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M13 7l5 5m0 0l-5 5m5-5H6\"\n                      />\n                    </svg>\n                  </span>\n                </button>\n              </lib-tooltip>\n            </div>\n          </div>\n\n          <app-admin-form-button\n            [tooltip]=\"'Saves Mail Account Details.'\"\n            [btnText]=\"'Save Mail Account'\"\n            [posting]=\"posting\"\n            [disabled]=\"posting || !form.valid\"\n            (save)=\"saveChanges()\"\n          />\n        </form>\n      </div>\n    </section>\n  </div>\n</app-admin-page-content>\n"],
  "mappings": "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",
  "names": []
}
