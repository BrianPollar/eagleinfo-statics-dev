{
  "version": 3,
  "sources": ["projects/shared-lib/src/lib/components/base/auto-dns/set-up-dns/set-up-dns.base.ts", "projects/admin-panel/src/app/components/pane/admin-domain-related/admin-auto-dns/admin-set-up-dns/admin-set-up-dns.component.ts", "projects/admin-panel/src/app/components/pane/admin-domain-related/admin-auto-dns/admin-set-up-dns/admin-set-up-dns.component.html"],
  "sourcesContent": ["import { Directive, Input } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Company } from '@biz-nest/commerce-client';\nimport { Isuccess } from '@biz-nest/core-client';\nimport {\n  controlNames, MailUser, ManagerClient\n} from '@main-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { lastValueFrom } from 'rxjs';\n\ninterface IsetupForm {\n  domain: string;\n}\n\n@Directive()\nexport class SetUpDnsBase {\n  @Input({ required: true }) company !: Company;\n\n  form: FormGroup<{\n    [K in keyof IsetupForm]\n  }>;\n\n  mail?: MailUser;\n  cleanup?: () => void;\n  posting = false;\n\n  constructor(\n    protected fb: FormBuilder,\n    protected toastr: ToastrService\n  ) {\n    this.form = this.fb.group<{\n      [K in keyof IsetupForm]\n    }>({\n      domain: [{ value: this.mail?.email, disabled: this.mail?.email }, Validators.compose([\n        Validators.minLength(4),\n        Validators.maxLength(60),\n        Validators.required])]\n    });\n  }\n\n  get controlNames() {\n    return controlNames(this.form.controls);\n  }\n\n  checkControlInvalidOrDirty(controlName: keyof IsetupForm) {\n    return !this.form.get(controlName)?.valid &&\n    this.form.get(controlName)?.dirty;\n  }\n\n  async setUp() {\n    const companyId = this.company._id;\n    const userId = typeof this.company.owner === 'string' ? this.company.owner : this.company.owner._id;\n\n    this.posting = true;\n    const domainDetails = {\n      domain: this.form.value.domain,\n      companyId,\n      userId\n    };\n\n    const observer$ = ManagerClient.ehttp\n      .makePost<Isuccess>('/misc/setup-domain', domainDetails);\n\n    const response = await lastValueFrom(observer$);\n\n    this.posting = false;\n\n    if (response.success) {\n      this.toastr.success('Operation sucessfull...!', 'Success');\n    } else {\n      const err = response.err || 'An Error Occured, Try again Later';\n\n      this.toastr.error(err, 'Failed', {\n        disableTimeOut: true\n      });\n    }\n  }\n}\n\n", "import { Component } from '@angular/core';\nimport { FormBuilder, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SetUpDnsBase } from '@front-shared-lib';\nimport { ToastrService } from 'ngx-toastr';\nimport { AdminFormInstructionComponent } from '../../../misc/admin-form-instruction/admin-form-instruction.component';\nimport { AdminFormFieldComponent } from '../../../misc/form/admin-form-field/admin-form-field.component';\nimport { AdminFormButtonComponent } from '../../../misc/form/button/admin-form-button/admin-form-button.component';\n\n@Component({\n  selector: 'app-admin-set-up-dns',\n  standalone: true,\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    AdminFormFieldComponent,\n    AdminFormButtonComponent,\n    AdminFormInstructionComponent\n  ],\n  templateUrl: './admin-set-up-dns.component.html',\n  styleUrl: './admin-set-up-dns.component.scss'\n})\nexport class AdminSetUpDnsComponent\n  extends SetUpDnsBase {\n  constructor(\n    protected override fb: FormBuilder,\n    protected override toastr: ToastrService\n  ) {\n    super(fb, toastr);\n  }\n}\n\n", "<div\n  class=\"container mx-auto md:px-6 md:pt-32 pb-32 pt-12 !min-h-[100vh] !mb-[180px]\"\n>\n  <section class=\"text-center min-h-[100vh] mx-auto max-w-[700px]\">\n    <app-admin-form-instruction />\n    <div class=\"md:px-3 h-full flex items-center justify-center\">\n      <form\n        class=\"space-y-8 !bg-default-white p-10 rounded-2xl shadow-2xl border !border-default-white-shade backdrop-blur-sm w-full\"\n        [formGroup]=\"form\"\n      >\n        <div class=\"text-center mb-6\">\n          <h2 class=\"text-3xl font-extrabold tracking-tight\">Set Up Domain</h2>\n          <p class=\"mt-2 text-sm text-gray-500\">\n            Input domain name and we will set up dns for you\n          </p>\n        </div>\n\n        <app-admin-form-field\n          [formControlName]=\"controlNames.domain\"\n          [label]=\"'Domain'\"\n        />\n\n        <app-admin-form-button\n          [tooltip]=\"'Sets up Domain.'\"\n          [btnText]=\"'Set up Domain'\"\n          [posting]=\"posting\"\n          [disabled]=\"posting || !form.valid\"\n          (save)=\"setUp()\"\n        />\n      </form>\n    </div>\n  </section>\n</div>\n"],
  "mappings": "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",
  "names": []
}
